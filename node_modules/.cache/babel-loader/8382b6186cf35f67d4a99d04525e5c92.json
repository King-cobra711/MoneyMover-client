{"ast":null,"code":"import _toConsumableArray from\"/Users/Matt/Desktop/My Projects/JavaScript/Money-Transfer/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/Matt/Desktop/My Projects/JavaScript/Money-Transfer/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/Matt/Desktop/My Projects/JavaScript/Money-Transfer/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/Matt/Desktop/My Projects/JavaScript/Money-Transfer/client/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useEffect}from\"react\";import\"./App.css\";import*as ReactStrap from\"react-bootstrap\";import\"bootstrap/dist/css/bootstrap.min.css\";import{Collapse,CardBody,Card}from\"reactstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),balanceA=_useState2[0],setBalanceA=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),balanceB=_useState4[0],setBalanceB=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),Asend=_useState6[0],setASend=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),Bsend=_useState8[0],setBsend=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),Ahistory=_useState10[0],setAhistory=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),Bhistory=_useState12[0],setBHistory=_useState12[1];var _useState13=useState(0),_useState14=_slicedToArray(_useState13,2),addTake=_useState14[0],setAddTake=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),showAddTake=_useState16[0],setShowAddTake=_useState16[1];var _useState17=useState(0),_useState18=_slicedToArray(_useState17,2),aSendValue=_useState18[0],setASendValue=_useState18[1];var _useState19=useState(0),_useState20=_slicedToArray(_useState19,2),bSendValue=_useState20[0],setBSendValue=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),refresh=_useState22[0],setRefresh=_useState22[1];var _useState23=useState(\"\"),_useState24=_slicedToArray(_useState23,2),Aerror=_useState24[0],setAerror=_useState24[1];var _useState25=useState(\"\"),_useState26=_slicedToArray(_useState25,2),Berror=_useState26[0],setBerror=_useState26[1];var _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),isOpenA=_useState28[0],setIsOpenA=_useState28[1];var _useState29=useState(false),_useState30=_slicedToArray(_useState29,2),isOpenB=_useState30[0],setIsOpenB=_useState30[1];var toggleA=function toggleA(){return setIsOpenA(!isOpenA);};var toggleB=function toggleB(){return setIsOpenB(!isOpenB);};useEffect(function(){setAerror(\"\");setBerror(\"\");function fetchBalances(){return _fetchBalances.apply(this,arguments);}function _fetchBalances(){_fetchBalances=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var request;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://money-mover-server.herokuapp.com\",{method:\"GET\",credentials:\"include\",headers:{\"Content-type\":\"application/json\"},body:JSON.stringify()}).catch(function(error){return console.log(error);}).then(function(res){if(res.status===200){res.json().then(function(data){setBalanceA(data.Abalance);setBalanceB(data.Bbalance);});}});case 2:request=_context.sent;return _context.abrupt(\"return\",request);case 4:case\"end\":return _context.stop();}}},_callee);}));return _fetchBalances.apply(this,arguments);}fetchBalances();},[refresh]);var submitA=function submitA(){if(aSendValue===0||aSendValue===\"0\"){setAerror(\"Can't send $0\");}else{if(aSendValue<0){setAerror(\"must be positive value\");}else{if(balanceA-aSendValue<0){setAerror(\"Insufficent funds\");}else{var sendMoney=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var request;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"https://money-mover-server.herokuapp.com/moneyToB\",{method:\"POST\",headers:{\"Content-type\":\"application/json\"},credentials:\"include\",body:JSON.stringify({money:aSendValue})}).then(function(res){if(res.status===200){setRefresh(!refresh);setAddTake(aSendValue);setASend(true);setBsend(false);setAhistory([].concat(_toConsumableArray(Ahistory),[-aSendValue]));setBHistory([].concat(_toConsumableArray(Bhistory),[+aSendValue]));setShowAddTake(true);setTimeout(function(){setShowAddTake(false);},1000);setASendValue(0);setBSendValue(0);document.getElementById(\"AmountA\").value=\"\";document.getElementById(\"AmountB\").value=\"\";}else if(res.status===406){res.json().then(function(data){setAerror(data.error[0].msg);});}else{console.log(\"ERROR\");}});case 2:request=_context2.sent;return _context2.abrupt(\"return\",request);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function sendMoney(){return _ref.apply(this,arguments);};}();sendMoney();}}}};var submitB=function submitB(){if(bSendValue===0||bSendValue===\"0\"){setBerror(\"Can't send $0\");}else{if(bSendValue<0){setBerror(\"Must be positive value\");}else{if(balanceB-bSendValue<0){setBerror(\"Insufficient funds\");}else{var sendMoney=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var request;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"https://money-mover-server.herokuapp.com/moneyToA\",{method:\"POST\",headers:{\"Content-type\":\"application/json\"},credentials:\"include\",body:JSON.stringify({money:bSendValue})}).then(function(res){if(res.status===200){setRefresh(!refresh);setAddTake(bSendValue);setASend(false);setBsend(true);setBHistory([].concat(_toConsumableArray(Bhistory),[-bSendValue]));setAhistory([].concat(_toConsumableArray(Ahistory),[+bSendValue]));setShowAddTake(true);setTimeout(function(){setShowAddTake(false);},1000);setASendValue(0);setBSendValue(0);document.getElementById(\"AmountA\").value=\"\";document.getElementById(\"AmountB\").value=\"\";}else if(res.status===406){res.json().then(function(data){setBerror(data.error[0].msg);});}else{console.log(\"ERROR\");}});case 2:request=_context3.sent;return _context3.abrupt(\"return\",request);case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function sendMoney(){return _ref2.apply(this,arguments);};}();sendMoney();}}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{id:\"title\",children:\"Money Transfer\"}),/*#__PURE__*/_jsxs(ReactStrap.Container,{children:[/*#__PURE__*/_jsxs(ReactStrap.Row,{children:[/*#__PURE__*/_jsx(ReactStrap.Col,{id:\"borderR\",className:\"accountName\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Account A\"})}),/*#__PURE__*/_jsx(ReactStrap.Col,{id:\"borderL\",className:\"accountName\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Account B\"})})]}),/*#__PURE__*/_jsxs(ReactStrap.Row,{children:[/*#__PURE__*/_jsxs(ReactStrap.Col,{id:\"balance\",className:\"borderR\",children:[\"Balance: $\",balanceA,showAddTake?/*#__PURE__*/_jsx(\"p\",{id:\"aside\",className:Asend?\"neg\":\"pos\",children:Asend?\"- $\"+addTake:\"+ $\"+addTake}):/*#__PURE__*/_jsx(\"p\",{className:\"noVis\"})]}),/*#__PURE__*/_jsxs(ReactStrap.Col,{style:{position:\"relative\"},id:\"balance\",className:\"borderL\",children:[\"Balance: $\",balanceB,showAddTake?/*#__PURE__*/_jsx(\"p\",{id:\"bside\",className:Bsend?\"neg\":\"pos\",children:Bsend?\"- $\"+addTake:\"+ $\"+addTake}):/*#__PURE__*/_jsx(\"p\",{className:\"noVis\"})]})]}),/*#__PURE__*/_jsxs(ReactStrap.Row,{children:[/*#__PURE__*/_jsx(ReactStrap.Col,{className:\"borderR\",children:/*#__PURE__*/_jsx(ReactStrap.Form,{children:/*#__PURE__*/_jsxs(ReactStrap.Form.Group,{controlId:\"AmountA\",children:[/*#__PURE__*/_jsx(ReactStrap.Form.Control,{onBlur:function onBlur(){return setBSendValue(0);},onChange:function onChange(event){return setASendValue(event.target.value);},type:\"number\",placeholder:\"Enter amount...\"}),/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:Aerror}),/*#__PURE__*/_jsx(ReactStrap.Button,{className:\"mt-10\",onClick:function onClick(){return submitA();},variant:\"outline-primary\",children:\"Send to B\"})]})})}),/*#__PURE__*/_jsx(ReactStrap.Col,{className:\"borderL\",children:/*#__PURE__*/_jsxs(ReactStrap.Form,{children:[/*#__PURE__*/_jsxs(ReactStrap.Form.Group,{controlId:\"AmountB\",children:[/*#__PURE__*/_jsx(ReactStrap.Form.Control,{onBlur:function onBlur(){return setASendValue(0);},onChange:function onChange(event){return setBSendValue(event.target.value);},type:\"number\",placeholder:\"Enter amount...\"}),/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:Berror})]}),/*#__PURE__*/_jsx(ReactStrap.Button,{className:\"mt-10\",onClick:function onClick(){return submitB();},variant:\"outline-primary\",children:\"Send to A\"})]})})]}),/*#__PURE__*/_jsxs(ReactStrap.Row,{children:[/*#__PURE__*/_jsxs(ReactStrap.Col,{style:{paddingTop:\"1.6em\"},className:\"borderR\",children:[/*#__PURE__*/_jsx(ReactStrap.Button,{onClick:function onClick(){return toggleA();},variant:\"light\",children:\"Transaction History\"}),/*#__PURE__*/_jsx(Collapse,{isOpen:isOpenA,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardBody,{children:Ahistory.length>0?Ahistory.map(function(val,key){return/*#__PURE__*/_jsx(\"div\",{children:val>=0?/*#__PURE__*/_jsxs(\"p\",{className:\"historyPos\",children:[\"+ $\",val]}):/*#__PURE__*/_jsxs(\"p\",{className:\"historyNeg\",children:[\"- $\",val*-1]})});}):/*#__PURE__*/_jsx(\"p\",{children:\"N/A\"})})})})]}),/*#__PURE__*/_jsxs(ReactStrap.Col,{style:{paddingTop:\"1.6em\"},children:[/*#__PURE__*/_jsx(ReactStrap.Button,{onClick:function onClick(){toggleB();},variant:\"light\",children:\"Transaction History\"}),/*#__PURE__*/_jsx(Collapse,{isOpen:isOpenB,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardBody,{children:Bhistory.length>0?Bhistory.map(function(val,key){return/*#__PURE__*/_jsx(\"div\",{children:val>=0?/*#__PURE__*/_jsxs(\"p\",{className:\"historyPos\",children:[\"+ $\",val]}):/*#__PURE__*/_jsxs(\"p\",{className:\"historyNeg\",children:[\"- $\",val*-1]})});}):/*#__PURE__*/_jsx(\"p\",{children:\"N/A\"})})})})]})]})]})]});}export default App;","map":{"version":3,"sources":["/Users/Matt/Desktop/My Projects/JavaScript/Money-Transfer/client/src/App.js"],"names":["React","useState","useEffect","ReactStrap","Collapse","CardBody","Card","App","balanceA","setBalanceA","balanceB","setBalanceB","Asend","setASend","Bsend","setBsend","Ahistory","setAhistory","Bhistory","setBHistory","addTake","setAddTake","showAddTake","setShowAddTake","aSendValue","setASendValue","bSendValue","setBSendValue","refresh","setRefresh","Aerror","setAerror","Berror","setBerror","isOpenA","setIsOpenA","isOpenB","setIsOpenB","toggleA","toggleB","fetchBalances","fetch","method","credentials","headers","body","JSON","stringify","catch","error","console","log","then","res","status","json","data","Abalance","Bbalance","request","submitA","sendMoney","money","setTimeout","document","getElementById","value","msg","submitB","position","event","target","paddingTop","length","map","val","key"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport * as ReactStrap from \"react-bootstrap\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { Collapse, CardBody, Card } from \"reactstrap\";\nfunction App() {\n  const [balanceA, setBalanceA] = useState(0);\n  const [balanceB, setBalanceB] = useState(0);\n  const [Asend, setASend] = useState(false);\n  const [Bsend, setBsend] = useState(false);\n  const [Ahistory, setAhistory] = useState([]);\n  const [Bhistory, setBHistory] = useState([]);\n  const [addTake, setAddTake] = useState(0);\n  const [showAddTake, setShowAddTake] = useState(false);\n  const [aSendValue, setASendValue] = useState(0);\n  const [bSendValue, setBSendValue] = useState(0);\n  const [refresh, setRefresh] = useState(false);\n  const [Aerror, setAerror] = useState(\"\");\n  const [Berror, setBerror] = useState(\"\");\n  const [isOpenA, setIsOpenA] = useState(false);\n  const [isOpenB, setIsOpenB] = useState(false);\n\n  const toggleA = () => setIsOpenA(!isOpenA);\n  const toggleB = () => setIsOpenB(!isOpenB);\n\n  useEffect(() => {\n    setAerror(\"\");\n    setBerror(\"\");\n    async function fetchBalances() {\n      const request = await fetch(\"https://money-mover-server.herokuapp.com\", {\n        method: \"GET\",\n        credentials: \"include\",\n        headers: {\n          \"Content-type\": \"application/json\",\n        },\n        body: JSON.stringify(),\n      })\n        .catch((error) => console.log(error))\n        .then((res) => {\n          if (res.status === 200) {\n            res.json().then((data) => {\n              setBalanceA(data.Abalance);\n              setBalanceB(data.Bbalance);\n            });\n          }\n        });\n      return request;\n    }\n    fetchBalances();\n  }, [refresh]);\n\n  const submitA = () => {\n    if (aSendValue === 0 || aSendValue === \"0\") {\n      setAerror(\"Can't send $0\");\n    } else {\n      if (aSendValue < 0) {\n        setAerror(\"must be positive value\");\n      } else {\n        if (balanceA - aSendValue < 0) {\n          setAerror(\"Insufficent funds\");\n        } else {\n          async function sendMoney() {\n            const request = await fetch(\n              \"https://money-mover-server.herokuapp.com/moneyToB\",\n              {\n                method: \"POST\",\n                headers: {\n                  \"Content-type\": \"application/json\",\n                },\n                credentials: \"include\",\n                body: JSON.stringify({\n                  money: aSendValue,\n                }),\n              }\n            ).then((res) => {\n              if (res.status === 200) {\n                setRefresh(!refresh);\n                setAddTake(aSendValue);\n                setASend(true);\n                setBsend(false);\n                setAhistory([...Ahistory, -aSendValue]);\n                setBHistory([...Bhistory, +aSendValue]);\n                setShowAddTake(true);\n                setTimeout(() => {\n                  setShowAddTake(false);\n                }, 1000);\n                setASendValue(0);\n                setBSendValue(0);\n                document.getElementById(\"AmountA\").value = \"\";\n                document.getElementById(\"AmountB\").value = \"\";\n              } else if (res.status === 406) {\n                res.json().then((data) => {\n                  setAerror(data.error[0].msg);\n                });\n              } else {\n                console.log(\"ERROR\");\n              }\n            });\n            return request;\n          }\n          sendMoney();\n        }\n      }\n    }\n  };\n  const submitB = () => {\n    if (bSendValue === 0 || bSendValue === \"0\") {\n      setBerror(\"Can't send $0\");\n    } else {\n      if (bSendValue < 0) {\n        setBerror(\"Must be positive value\");\n      } else {\n        if (balanceB - bSendValue < 0) {\n          setBerror(\"Insufficient funds\");\n        } else {\n          async function sendMoney() {\n            const request = await fetch(\n              \"https://money-mover-server.herokuapp.com/moneyToA\",\n              {\n                method: \"POST\",\n                headers: {\n                  \"Content-type\": \"application/json\",\n                },\n                credentials: \"include\",\n                body: JSON.stringify({\n                  money: bSendValue,\n                }),\n              }\n            ).then((res) => {\n              if (res.status === 200) {\n                setRefresh(!refresh);\n                setAddTake(bSendValue);\n                setASend(false);\n                setBsend(true);\n                setBHistory([...Bhistory, -bSendValue]);\n                setAhistory([...Ahistory, +bSendValue]);\n                setShowAddTake(true);\n                setTimeout(() => {\n                  setShowAddTake(false);\n                }, 1000);\n                setASendValue(0);\n                setBSendValue(0);\n                document.getElementById(\"AmountA\").value = \"\";\n                document.getElementById(\"AmountB\").value = \"\";\n              } else if (res.status === 406) {\n                res.json().then((data) => {\n                  setBerror(data.error[0].msg);\n                });\n              } else {\n                console.log(\"ERROR\");\n              }\n            });\n            return request;\n          }\n          sendMoney();\n        }\n      }\n    }\n  };\n  return (\n    <div className=\"App\">\n      <h1 id=\"title\">Money Transfer</h1>\n      <ReactStrap.Container>\n        <ReactStrap.Row>\n          <ReactStrap.Col id=\"borderR\" className=\"accountName\">\n            <h3>Account A</h3>\n          </ReactStrap.Col>\n          <ReactStrap.Col id=\"borderL\" className=\"accountName\">\n            <h3>Account B</h3>\n          </ReactStrap.Col>\n        </ReactStrap.Row>\n        <ReactStrap.Row>\n          <ReactStrap.Col id=\"balance\" className=\"borderR\">\n            Balance: ${balanceA}\n            {showAddTake ? (\n              <p id=\"aside\" className={Asend ? \"neg\" : \"pos\"}>\n                {Asend ? \"- $\" + addTake : \"+ $\" + addTake}\n              </p>\n            ) : (\n              <p className=\"noVis\"></p>\n            )}\n          </ReactStrap.Col>\n          <ReactStrap.Col\n            style={{ position: \"relative\" }}\n            id=\"balance\"\n            className=\"borderL\"\n          >\n            Balance: ${balanceB}\n            {showAddTake ? (\n              <p id=\"bside\" className={Bsend ? \"neg\" : \"pos\"}>\n                {Bsend ? \"- $\" + addTake : \"+ $\" + addTake}\n              </p>\n            ) : (\n              <p className=\"noVis\"></p>\n            )}\n          </ReactStrap.Col>\n        </ReactStrap.Row>\n        <ReactStrap.Row>\n          <ReactStrap.Col className=\"borderR\">\n            <ReactStrap.Form>\n              <ReactStrap.Form.Group controlId=\"AmountA\">\n                <ReactStrap.Form.Control\n                  onBlur={() => setBSendValue(0)}\n                  onChange={(event) => setASendValue(event.target.value)}\n                  type=\"number\"\n                  placeholder=\"Enter amount...\"\n                ></ReactStrap.Form.Control>\n                <p className=\"error\">{Aerror}</p>\n                <ReactStrap.Button\n                  className=\"mt-10\"\n                  onClick={() => submitA()}\n                  variant=\"outline-primary\"\n                >\n                  Send to B\n                </ReactStrap.Button>\n              </ReactStrap.Form.Group>\n            </ReactStrap.Form>\n          </ReactStrap.Col>\n          <ReactStrap.Col className=\"borderL\">\n            <ReactStrap.Form>\n              <ReactStrap.Form.Group controlId=\"AmountB\">\n                <ReactStrap.Form.Control\n                  onBlur={() => setASendValue(0)}\n                  onChange={(event) => setBSendValue(event.target.value)}\n                  type=\"number\"\n                  placeholder=\"Enter amount...\"\n                ></ReactStrap.Form.Control>\n                <p className=\"error\">{Berror}</p>\n              </ReactStrap.Form.Group>\n              <ReactStrap.Button\n                className=\"mt-10\"\n                onClick={() => submitB()}\n                variant=\"outline-primary\"\n              >\n                Send to A\n              </ReactStrap.Button>\n            </ReactStrap.Form>\n          </ReactStrap.Col>\n        </ReactStrap.Row>\n        <ReactStrap.Row>\n          <ReactStrap.Col style={{ paddingTop: \"1.6em\" }} className=\"borderR\">\n            <ReactStrap.Button onClick={() => toggleA()} variant=\"light\">\n              Transaction History\n            </ReactStrap.Button>\n            <Collapse isOpen={isOpenA}>\n              <Card>\n                <CardBody>\n                  {Ahistory.length > 0 ? (\n                    Ahistory.map((val, key) => {\n                      return (\n                        <div>\n                          {val >= 0 ? (\n                            <p className=\"historyPos\">+ ${val}</p>\n                          ) : (\n                            <p className=\"historyNeg\">- ${val * -1}</p>\n                          )}\n                        </div>\n                      );\n                    })\n                  ) : (\n                    <p>N/A</p>\n                  )}\n                </CardBody>\n              </Card>\n            </Collapse>\n          </ReactStrap.Col>\n          <ReactStrap.Col style={{ paddingTop: \"1.6em\" }}>\n            <ReactStrap.Button\n              onClick={() => {\n                toggleB();\n              }}\n              variant=\"light\"\n            >\n              Transaction History\n            </ReactStrap.Button>\n            <Collapse isOpen={isOpenB}>\n              <Card>\n                <CardBody>\n                  {Bhistory.length > 0 ? (\n                    Bhistory.map((val, key) => {\n                      return (\n                        <div>\n                          {val >= 0 ? (\n                            <p className=\"historyPos\">+ ${val}</p>\n                          ) : (\n                            <p className=\"historyNeg\">- ${val * -1}</p>\n                          )}\n                        </div>\n                      );\n                    })\n                  ) : (\n                    <p>N/A</p>\n                  )}\n                </CardBody>\n              </Card>\n            </Collapse>\n          </ReactStrap.Col>\n        </ReactStrap.Row>\n      </ReactStrap.Container>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}