(this["webpackJsonpmoney-transfer"]=this["webpackJsonpmoney-transfer"]||[]).push([[0],{30:function(e,t,n){},32:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(12),r=n.n(s),i=(n(30),n(11)),o=n(14),u=n(8),j=n(9),l=n.n(j),b=(n(32),n(48)),d=n(49),O=n(24),h=n(52),p=n(53),f=(n(33),n(54)),m=n(50),x=n(51),y=n(2);var g=function(){var e=Object(c.useState)(0),t=Object(u.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(0),r=Object(u.a)(s,2),j=r[0],g=r[1],v=Object(c.useState)(!1),N=Object(u.a)(v,2),S=N[0],A=N[1],B=Object(c.useState)(!1),C=Object(u.a)(B,2),T=C[0],$=C[1],E=Object(c.useState)([]),I=Object(u.a)(E,2),R=I[0],k=I[1],w=Object(c.useState)([]),P=Object(u.a)(w,2),J=P[0],L=P[1],F=Object(c.useState)(0),G=Object(u.a)(F,2),M=G[0],H=G[1],V=Object(c.useState)(!1),D=Object(u.a)(V,2),q=D[0],z=D[1],K=Object(c.useState)(0),Q=Object(u.a)(K,2),U=Q[0],W=Q[1],X=Object(c.useState)(0),Y=Object(u.a)(X,2),Z=Y[0],_=Y[1],ee=Object(c.useState)(!1),te=Object(u.a)(ee,2),ne=te[0],ce=te[1],ae=Object(c.useState)(""),se=Object(u.a)(ae,2),re=se[0],ie=se[1],oe=Object(c.useState)(""),ue=Object(u.a)(oe,2),je=ue[0],le=ue[1],be=Object(c.useState)(!1),de=Object(u.a)(be,2),Oe=de[0],he=de[1],pe=Object(c.useState)(!1),fe=Object(u.a)(pe,2),me=fe[0],xe=fe[1];return Object(c.useEffect)((function(){function e(){return(e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3001/balances",{method:"GET",credentials:"include",headers:{"Content-type":"application/json"},body:JSON.stringify()}).catch((function(e){return console.log(e)})).then((function(e){200===e.status&&e.json().then((function(e){a(e.Abalance),g(e.Bbalance)}))}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}ie(""),le(""),function(){e.apply(this,arguments)}()}),[ne]),Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)("h1",{id:"title",children:"Money Transfer"}),Object(y.jsxs)(b.a,{children:[Object(y.jsxs)(d.a,{children:[Object(y.jsx)(O.a,{id:"borderR",className:"accountName",children:Object(y.jsx)("h3",{children:"Account A"})}),Object(y.jsx)(O.a,{id:"borderL",className:"accountName",children:Object(y.jsx)("h3",{children:"Account B"})})]}),Object(y.jsxs)(d.a,{children:[Object(y.jsxs)(O.a,{id:"balance",className:"borderR",children:["Balance: $",n,q?Object(y.jsx)("p",{id:"aside",className:S?"neg":"pos",children:S?"- $"+M:"+ $"+M}):Object(y.jsx)("p",{className:"noVis"})]}),Object(y.jsxs)(O.a,{style:{position:"relative"},id:"balance",className:"borderL",children:["Balance: $",j,q?Object(y.jsx)("p",{id:"bside",className:T?"neg":"pos",children:T?"- $"+M:"+ $"+M}):Object(y.jsx)("p",{className:"noVis"})]})]}),Object(y.jsxs)(d.a,{children:[Object(y.jsx)(O.a,{className:"borderR",children:Object(y.jsx)(h.a,{children:Object(y.jsxs)(h.a.Group,{controlId:"AmountA",children:[Object(y.jsx)(h.a.Control,{onBlur:function(){return _(0)},onChange:function(e){return W(e.target.value)},type:"number",placeholder:"Enter amount..."}),Object(y.jsx)("p",{className:"error",children:re}),Object(y.jsx)(p.a,{className:"mt-10",onClick:function(){return function(){if(0===U||"0"===U)ie("Can't send $0");else if(U<0)ie("must be positive value");else if(n-U<0)ie("Insufficent funds");else{var e=function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3001/moneyToB",{method:"POST",headers:{"Content-type":"application/json"},credentials:"include",body:JSON.stringify({money:U})}).then((function(e){200===e.status?(ce(!ne),H(U),A(!0),$(!1),k([].concat(Object(i.a)(R),[-U])),L([].concat(Object(i.a)(J),[+U])),z(!0),setTimeout((function(){z(!1)}),1e3),W(0),_(0),document.getElementById("AmountA").value="",document.getElementById("AmountB").value=""):406===e.status?e.json().then((function(e){ie(e.error[0].msg)})):console.log("ERROR")}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}()},variant:"outline-primary",children:"Send to B"})]})})}),Object(y.jsx)(O.a,{className:"borderL",children:Object(y.jsxs)(h.a,{children:[Object(y.jsxs)(h.a.Group,{controlId:"AmountB",children:[Object(y.jsx)(h.a.Control,{onBlur:function(){return W(0)},onChange:function(e){return _(e.target.value)},type:"number",placeholder:"Enter amount..."}),Object(y.jsx)("p",{className:"error",children:je})]}),Object(y.jsx)(p.a,{className:"mt-10",onClick:function(){return function(){if(0===Z||"0"===Z)le("Can't send $0");else if(Z<0)le("Must be positive value");else if(j-Z<0)le("Insufficient funds");else{var e=function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3001/moneyToA",{method:"POST",headers:{"Content-type":"application/json"},credentials:"include",body:JSON.stringify({money:Z})}).then((function(e){200===e.status?(ce(!ne),H(Z),A(!1),$(!0),L([].concat(Object(i.a)(J),[-Z])),k([].concat(Object(i.a)(R),[+Z])),z(!0),setTimeout((function(){z(!1)}),1e3),W(0),_(0),document.getElementById("AmountA").value="",document.getElementById("AmountB").value=""):406===e.status?e.json().then((function(e){le(e.error[0].msg)})):console.log("ERROR")}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}()},variant:"outline-primary",children:"Send to A"})]})})]}),Object(y.jsxs)(d.a,{children:[Object(y.jsxs)(O.a,{style:{paddingTop:"1.6em"},className:"borderR",children:[Object(y.jsx)(p.a,{onClick:function(){return he(!Oe)},variant:"light",children:"Transaction History"}),Object(y.jsx)(f.a,{isOpen:Oe,children:Object(y.jsx)(m.a,{children:Object(y.jsx)(x.a,{children:R.length>0?R.map((function(e,t){return Object(y.jsx)("div",{children:e>=0?Object(y.jsxs)("p",{className:"historyPos",children:["+ $",e]}):Object(y.jsxs)("p",{className:"historyNeg",children:["- $",-1*e]})})})):Object(y.jsx)("p",{children:"N/A"})})})})]}),Object(y.jsxs)(O.a,{style:{paddingTop:"1.6em"},children:[Object(y.jsx)(p.a,{onClick:function(){xe(!me)},variant:"light",children:"Transaction History"}),Object(y.jsx)(f.a,{isOpen:me,children:Object(y.jsx)(m.a,{children:Object(y.jsx)(x.a,{children:J.length>0?J.map((function(e,t){return Object(y.jsx)("div",{children:e>=0?Object(y.jsxs)("p",{className:"historyPos",children:["+ $",e]}):Object(y.jsxs)("p",{className:"historyNeg",children:["- $",-1*e]})})})):Object(y.jsx)("p",{children:"N/A"})})})})]})]})]})]})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,55)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};r.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(g,{})}),document.getElementById("root")),v()}},[[45,1,2]]]);
//# sourceMappingURL=main.56e1921d.chunk.js.map